@import "tailwindcss";

/* Enables `dark:` utilities to respond to `.dark` on a parent */
@custom-variant dark (&:is(.dark *));

/* shadcn-style tokens (DEFAULT / original vibe) */
:root {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;

  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;

  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;

  --primary: 240 5.9% 10%;
  --primary-foreground: 0 0% 98%;

  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;

  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;

  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;

  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 240 5.9% 10%;

  --radius: 1rem;
  --ui-glow: 42 95% 58%;

  
}

/* Optional dark mode tokens (keep; doesnâ€™t affect you unless you add `.dark`) */
.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;

  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;

  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;

  --primary: 0 0% 98%;
  --primary-foreground: 240 5.9% 10%;

  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;

  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;

  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;

  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;

  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 240 4.9% 83.9%;
}

.ui-ambient {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 18px 50px rgba(0,0,0,0.08);
}

.ui-ambient-hover:hover {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 22px 60px rgba(0,0,0,0.10),
    0 22px 70px hsl(var(--ui-glow) / 0.10);
}

.ui-ambient-active {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 22px 60px rgba(0,0,0,0.10),
    0 22px 70px hsl(var(--ui-glow) / 0.14);
}

/* Base: neutral depth only */
/* Neutral depth only (no color) */
.ui-lift {
  position: relative;
  z-index: 0;           /* establishes local stacking */
  isolation: isolate;   /* prevents ::after from bleeding into siblings */

  box-shadow:
    0 1px 1px rgba(0,0,0,0.05),
    0 12px 28px rgba(0,0,0,0.12);

  transition: box-shadow 200ms ease;
}

/* Colored underglow (below only, contained) */
.ui-lift::after {
  content: "";
  position: absolute;
  z-index: -1;          /* behind the card, but now safely contained */
  pointer-events: none;

  left: 28px;
  right: 28px;
  bottom: 8px;
  height: 24px;

  /* radial gives nicer falloff than a flat bar */
  background: radial-gradient(
    closest-side,
    hsl(var(--ui-glow) / 0.32),
    transparent
  );

  filter: blur(12px);
  transform: translateY(14px);

  opacity: 0;
  transition: opacity 200ms ease;
  border-radius: 999px;
}

.ui-lift:hover::after {
  opacity: 1;
}

.ui-lift-strong::after {
  opacity: 1;
  background: radial-gradient(
    closest-side,
    hsl(var(--ui-glow) / 0.40),
    transparent
  );
}

.meter-track {
  height: 0.5rem;              /* 8px (h-2) */
  border-radius: 999px;
  background: rgb(228 228 231); /* zinc-200 */
  overflow: hidden;            /* IMPORTANT: keeps fill inside the track */
  position: relative;          /* safe default */
}

.meter-fill {
  height: 100%;
  border-radius: 999px;
  display: block;

  /* Fallback */
  background: #111;

  /* Whole-bar color shifts from black -> gold as --p increases */
  background: color-mix(
    in oklab,
    #111 calc(100% - var(--p, 0%)),
    hsl(var(--ui-glow) / 1) var(--p, 0%)
  );

  transition: background 240ms ease, width 240ms ease;
}

.meter-range {
  background: linear-gradient(
    90deg,
    #111 0%,
    #111 calc(100% - var(--p)),
    hsl(var(--ui-glow) / 1) 100%
  );
  transition: background 240ms ease;
}

.pill-gold {
  background: hsl(var(--ui-glow) / 0.22);
  border: 1px solid hsl(var(--ui-glow) / 0.35);
}

/*
  Tailwind v4 needs the theme mapping for classes like:
  bg-background, text-foreground, border-border, ring-ring, etc.
*/
@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --radius: var(--radius);
}

/* Base page defaults (NO @apply here to avoid your current border-border error) */
html,
body {
  height: 100%;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}
