@import "tailwindcss";

/* Enables `dark:` utilities to respond to `.dark` on a parent */
@custom-variant dark (&:is(.dark *));

html {
  scroll-padding-top: 72px; /* navbar height + a little breathing room */
}

/* shadcn-style tokens (DEFAULT / original vibe) */
:root {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;

  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;

  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;

  --primary: 240 5.9% 10%;
  --primary-foreground: 0 0% 98%;

  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;

  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;

  --accent: 231 30% 96%;
  --accent-foreground: 231 35% 18%;

    /* Secondary surfaces (badges, chips, subtle fills in shadcn) */
  --secondary: 240 5% 96%;
  --secondary-foreground: 240 10% 18%;

  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;

  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 231 85% 60%;

  --radius: 1rem;

  --bg: 0 0% 100%;
  --fg: 240 10% 3.9%;
  --muted: 240 5% 96%;
  --muted-foreground: 240 4% 46%;
  --border: 240 6% 90%;
  --card: 0 0% 100%;

  /* Accent tokens (the ONLY place you should pick colors) */
  --accent-1: 231 85% 60%; /* indigo */
  --accent-2: 190 90% 45%; /* teal */
  --ring: var(--accent-1);

  /* Soft usage helpers */
  --accent-1-soft: 231 85% 60% / 0.14;
  --accent-2-soft: 190 90% 45% / 0.12;
  
  --ui-glow: var(--accent-1);
  --ui-glow-2: var(--accent-2);

    /* Flagship step tones (used by flagship-scroll icons) */
  --tone-motion: var(--ui-glow);            /* motion = primary accent */
  --tone-interactivity: 190 85% 42%;        /* teal/cyan */
  --tone-conversion: 145 65% 36%;           /* green */
  --tone-integrations: 275 80% 60%;         /* violet */

    /* Multi-tone palette (themeable later) */
  --tone-1: var(--accent-1);        /* indigo */
  --tone-2: var(--accent-2);        /* teal */
  --tone-3: 152 70% 40%;            /* green */
  --tone-4: 24 92% 55%;             /* orange */
  --tone-5: 268 80% 62%;            /* violet */
  --tone-6: 346 85% 55%;            /* rose */
  
/* Make shadcn/tailwind ring feel premium and theme-aware */
  --ring: var(--accent-1);
}

/* Apply themes by setting <html data-theme="..."> */
html[data-theme="classic"] {
  /* OPTIONAL: you can leave this block empty if :root is already your classic theme.
     Or paste your current values here to “lock” them explicitly. */
  /* --ui-glow: 42 96% 58%;
     --tone-1: ...; ... */
}

html[data-theme="ocean"] {
  --ui-glow: 205 92% 56%;
  --tone-1: 205 92% 56%;
  --tone-2: 189 86% 52%;
  --tone-3: 164 76% 44%;
  --tone-4: 222 85% 62%;
  --tone-5: 198 90% 46%;
  --tone-6: 215 90% 58%;
}

html[data-theme="sunset"] {
  --ui-glow: 18 95% 56%;
  --tone-1: 18 95% 56%;
  --tone-2: 340 88% 60%;
  --tone-3: 286 70% 62%;
  --tone-4: 42 96% 56%;
  --tone-5: 8 92% 52%;
  --tone-6: 24 92% 58%;
}

html[data-theme="forest"] {
  --ui-glow: 142 70% 42%;
  --tone-1: 142 70% 42%;
  --tone-2: 160 62% 38%;
  --tone-3: 120 45% 36%;
  --tone-4: 92 55% 44%;
  --tone-5: 176 55% 36%;
  --tone-6: 145 62% 40%;
}

html[data-theme="mono"] {
  --ui-glow: 222 10% 35%;
  --tone-1: 222 10% 35%;
  --tone-2: 222 10% 30%;
  --tone-3: 222 10% 25%;
  --tone-4: 222 10% 20%;
  --tone-5: 222 10% 15%;
  --tone-6: 222 10% 10%;
}

/* IMPORTANT: this selector should match ANY element with data-theme,
   not only :root. That way each dot can preview its own theme. */

[data-theme="classic"] {
  --hero-wash: radial-gradient(140% 110% at 20% 0%, rgba(15, 23, 42, 0.14) 0%, rgba(255,255,255,0) 60%);
}

[data-theme="ocean"] {
  --hero-wash: radial-gradient(140% 110% at 20% 0%, rgba(59,130,246,0.18) 0%, rgba(20,184,166,0.12) 38%, rgba(255,255,255,0) 60%);
}

[data-theme="sunset"] {
  --hero-wash: radial-gradient(140% 110% at 20% 0%, rgba(249,115,22,0.18) 0%, rgba(236,72,153,0.12) 38%, rgba(255,255,255,0) 60%);
}

[data-theme="forest"] {
  --hero-wash: radial-gradient(140% 110% at 20% 0%, rgba(34,197,94,0.18) 0%, rgba(16,185,129,0.12) 38%, rgba(255,255,255,0) 60%);
}

[data-theme="mono"] {
  --hero-wash: radial-gradient(140% 110% at 20% 0%, rgba(15,23,42,0.16) 0%, rgba(148,163,184,0.10) 38%, rgba(255,255,255,0) 60%);
}


.ui-smoke-test {
  outline: 6px solid red !important;
}


/* Optional dark mode tokens (keep; doesn’t affect you unless you add `.dark`) */
.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;

  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;

  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;

  --primary: 0 0% 98%;
  --primary-foreground: 240 5.9% 10%;

  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;

  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;

  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;

  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;

  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 240 4.9% 83.9%;

  --tone-interactivity: 190 90% 60%;
  --tone-conversion: 145 70% 55%;
  --tone-integrations: 275 90% 70%;

}

.ui-ambient {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 18px 50px rgba(0,0,0,0.08);
}

.ui-ambient-hover:hover {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 22px 60px rgba(0,0,0,0.10),
    0 22px 70px hsl(var(--ui-glow) / 0.10);
}

.ui-ambient-active {
  box-shadow:
    0 1px 1px rgba(0,0,0,0.04),
    0 22px 60px rgba(0,0,0,0.10),
    0 22px 70px hsl(var(--ui-glow) / 0.14);
}

/* Base: neutral depth only */
/* Neutral depth only (no color) */
.ui-lift {
  position: relative;
  z-index: 0;           /* establishes local stacking */
  isolation: isolate; 
  contain: paint;  /* prevents ::after from bleeding into siblings */

  box-shadow:
    0 1px 1px rgba(0,0,0,0.05),
    0 12px 28px rgba(0,0,0,0.12);

  transition: box-shadow 200ms ease;
}

/* Colored underglow (below only, contained) */
.ui-lift::after {
  content: "";
  position: absolute;
  z-index: -1;          /* behind the card, but now safely contained */
  pointer-events: none;

  left: 28px;
  right: 28px;
  bottom: 8px;
  height: 24px;

  /* radial gives nicer falloff than a flat bar */
  background: radial-gradient(
    closest-side,
    hsl(var(--ui-glow) / 0.32),
    transparent
  );

  filter: blur(12px);
  transform: translateY(14px);

  opacity: 0;
  transition: opacity 200ms ease;
  border-radius: 999px;
}

.ui-lift:hover::after {
  opacity: 1;
}

.ui-lift-strong::after {
  opacity: 0;
  background: radial-gradient(
    closest-side,
    hsl(var(--ui-glow) / 0.40),
    transparent
  );
}

/* Modern, subtle color usage helpers */
.ui-highlight {
  background: linear-gradient(
    90deg,
    hsl(var(--ui-glow) / 0.22),
    hsl(var(--ui-glow-2) / 0.16)
  );
  border-radius: 0.6rem;

  /* Fix mobile overlap */
  display: inline-block;
  -webkit-box-decoration-break: clone;
  box-decoration-break: clone;

  /* Slightly smaller vertical padding so lines don’t collide */
  padding: 0.04em 0.35em;

  /* Gives each highlighted chunk breathing room when it wraps */
  margin: 0 0.08em 0.12em 0;

  color: hsl(var(--foreground));
}

@media (min-width: 640px) {
  .ui-highlight {
    margin-bottom: 0; /* keep desktop tight/clean */
    padding: 0.06em 0.35em;
  }
}


.ui-wash {
  position: relative;
  isolation: isolate;
}
.ui-wash::before {
  content: "";
  position: absolute;
  inset: -40px;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(650px circle at 18% 15%, hsl(var(--ui-glow) / 0.10), transparent 60%),
    radial-gradient(650px circle at 82% 25%, hsl(var(--ui-glow-2) / 0.08), transparent 62%);
  filter: blur(2px);
}
.ui-wash > * {
  position: relative;
  z-index: 1;
}

/* Accent border + ring you can use on “active” pills/cards */
.ui-border-accent {
  border-color: hsl(var(--ui-glow) / 0.65) !important;
}
.ui-ring-accent:focus-visible {
  outline: 2px solid hsl(var(--ui-glow) / 0.35);
  outline-offset: 2px;
}




.meter-track {
  height: 0.5rem;              /* 8px (h-2) */
  border-radius: 999px;
  background: rgb(228 228 231); /* zinc-200 */
  overflow: hidden;            /* IMPORTANT: keeps fill inside the track */
  position: relative;          /* safe default */
}

.meter-fill {
  height: 100%;
  border-radius: 999px;
  display: block;

  /* Fallback */
  background: #111;

  /* Whole-bar color shifts from black -> gold as --p increases */
  background: color-mix(
    in oklab,
    #111 calc(100% - var(--p, 0%)),
    hsl(var(--ui-glow) / 1) var(--p, 0%)
  );

  transition: background 240ms ease, width 240ms ease;
}

.meter-range {
  background: linear-gradient(
    90deg,
    #111 0%,
    #111 calc(100% - var(--p)),
    hsl(var(--ui-glow) / 1) 100%
  );
  transition: background 240ms ease;
}

.pill-gold {
  background: hsl(var(--ui-glow) / 0.22);
  border: 1px solid hsl(var(--ui-glow) / 0.35);
}



/*
  Tailwind v4 needs the theme mapping for classes like:
  bg-background, text-foreground, border-border, ring-ring, etc.
*/

@layer utilities {
  /* Accent outline for small pills (logo chip, small badges) */
  .ui-accent-pill {
    border-color: hsl(var(--ui-glow) / 0.55) !important;
    box-shadow: 0 10px 30px hsl(var(--ui-glow) / 0.10);
  }

  /* Nav link underline (clean + modern, no loud color blocks) */
  .ui-accent-underline {
    position: relative;
  }
  .ui-accent-underline::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -8px;
    height: 2px;
    border-radius: 999px;
    opacity: 0;
    transform: translateY(2px);
    transition: opacity 150ms ease, transform 150ms ease;
    background: linear-gradient(
      90deg,
      hsl(var(--ui-glow) / 0.85),
      hsl(var(--ui-glow-2) / 0.75)
    );
  }
  .ui-accent-underline:hover::after,
  .ui-accent-underline:focus-visible::after {
    opacity: 1;
    transform: translateY(0);
  }

  /* Signature CTA glow (subtle, professional) */
  .ui-accent-cta {
    box-shadow:
      0 1px 0 rgba(255,255,255,0.08) inset,
      0 14px 45px hsl(var(--ui-glow) / 0.18);
  }
  .ui-accent-cta:hover {
    box-shadow:
      0 1px 0 rgba(255,255,255,0.10) inset,
      0 18px 60px hsl(var(--ui-glow) / 0.22);
  }

  #system-map a,
  #system-map a:hover,
  #system-map button,
  #system-map button:hover {
    text-decoration: none !important;
    -webkit-tap-highlight-color: transparent;
  }
}



@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --radius: var(--radius);
}

/* Base page defaults (NO @apply here to avoid your current border-border error) */
html,
body {
  height: 100%;
}

body {
  background: hsl(var(--background));
  color: hsl(var(--foreground));
}
